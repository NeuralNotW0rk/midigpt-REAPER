desc:MidiGPT Global Options

slider1:jsfx_id=54964318<54964318, 54964318, 1>-jsfx_id
slider12:temperature=1.0<0.1, 5.0, 0.1>Temperature
slider13:tracks_per_step=1<1, 8, 1>Tracks per Step
slider14:bars_per_step=1<1, 4, 1>Bars per Step
slider15:model_dim=4<2, 8, 1>Model Dimension
slider16:percentage=100<10, 100, 5>Generation Percentage
slider17:max_steps=200<50, 1000, 10>Max Steps
slider18:batch_size=1<1, 4, 1>Batch Size
slider19:shuffle=1<0, 1, 1{No,Yes}>Shuffle Steps
slider20:sampling_seed=-1<-1, 9999, 1>Sampling Seed (-1 = random)
slider21:mask_top_k=0<0, 50, 1>Mask Top K (0 = disabled)
slider22:polyphony_hard_limit=6<1, 16, 1>Polyphony Hard Limit
slider30:rhy_cond=0<0, 2, 1{Do Not Preserve Rhythm,Preserve Rhythm,Preserve Rhythm and number of Pitches and number of Pitch Classes}>Preserve Rhythm in Selected Items
slider31:do_note_range_cond=0<0, 2, 1{Do Not Preserve Pitch Range,Yes (Loose),Yes (Strict)}>Preserve Pitch Range in Each Sel Tr Measure
slider32:no_rep_n_gram_size=0<0, 10, 1>N-Gram Size for No Rep Script
slider33:variation_alg=0<0, 2, 1{Random Rewriting,Measure-Based Rewriting,Track-Based Rewriting}>Algorithm for Variation Writing Script
slider42:disp_tr_to_midi_inst=1<0, 1, 1{No,Yes}>Display Track-to-MIDI Instrument
slider43:gen_notes_selected=1<0, 1, 1{No,Yes}>Generated Notes are Selected
slider44:display_warnings=1<0, 1, 1{No,Yes}>Display Warnings
slider45:verbose=0<0, 1, 1{No,Yes}>Verbose Output

in_pin:none
out_pin:none

@init
// Store previous values for validation
temp_prev = temperature;
tps_prev = tracks_per_step;
bps_prev = bars_per_step;
md_prev = model_dim;

@slider
// Validate parameter relationships
model_dim < bars_per_step ? (
  model_dim = bars_per_step;
);

bars_per_step > model_dim ? (
  bars_per_step = model_dim;
);

temperature <= 0 ? (
  temperature = 0.1;
);

// Store current values
temp_prev = temperature;
tps_prev = tracks_per_step;
bps_prev = bars_per_step;
md_prev = model_dim;
